<div class="page__title session-details__header">
  <div class="session-details-header__title">
    {{#link-to "authenticated.sessions.list" class="icon-button session-details-content__return-button"}}
      {{fa-icon 'arrow-left'}}
    {{/link-to}}
    <h1 class="page-title">Session {{session.id}}</h1>
  </div>

  <div class="session-details-header__datetime">
    <div class="session-details-header-datetime__date">
      <h4 class="label-text session-details-content__label">Date</h4>
      <span class="content-text content-text--big session-details-content__text">
        {{moment-format session.date 'dddd DD MMM YYYY' allow-empty=true locale='fr'}}
      </span>
    </div>

    <div class="session-details-header-datetime__time">
      <h4 class="label-text session-details-content__label">Heure de début (heure locale)</h4>
      <span class="content-text content-text--big session-details-content__text">
        {{moment-format session.time 'HH:mm' 'HH:mm:ss' allow-empty=true}}
      </span>
    </div>
  </div>
</div>

<div class="panel panel--strong-shadow session-details-container">
  <div class="session-details-row">
    <div class="session-details-content session-details-content--multiple">
      <h4 class="label-text session-details-content__label">ID session</h4>
      <span class="content-text session-details-content__text">{{session.id}}</span>
    </div>

    <div class="session-details-content session-details-content--multiple">
      <h4 class="label-text session-details-content__label">Nom du site</h4>
      <span class="content-text session-details-content__text">{{session.address}}</span>
    </div>

    <div class="session-details-content session-details-content--multiple">
      <h4 class="label-text session-details-content__label">Salle</h4>
      <span class="content-text session-details-content__text">{{session.room}}</span>
    </div>

    <div class="session-details-content session-details-content--multiple">
      <h4 class="label-text session-details-content__label">Surveillant</h4>
      <span class="content-text session-details-content__text">{{session.examiner}}</span>
    </div>

    <div class="session-details-content session-details-content--multiple">
      <h4 class="label-text session-details-content__label">Code d'accès</h4>
      <div class="session-details-content__clipboard">
        <span class="content-text content-text--bold session-details-content__text">{{session.accessCode}}</span>

        {{#if (is-clipboard-supported)}}
          <div class="tooltip">
            <span class="tooltip__text tooltip-text session-details-content__tooltip-text">{{this.tooltipText}}</span>
            {{#copy-button clipboardText=session.accessCode
                           success=(action 'clipboardSuccess')
                           mouseLeave=(action 'clipboardOut')
                           classNames="icon-button session-details-content__clipboard-button"}}
              {{fa-icon 'copy' prefix='far'}}
            {{/copy-button}}
          </div>
        {{/if}}
      </div>
    </div>
  </div>

  <div class="session-details-row">
    <div class="session-details-content session-details-content--single">
      <h4 class="label-text session-details-content__label">Observations</h4>
      <p class="content-text session-details-content__text">
        {{session.description}}
      </p>
    </div>
  </div>

  <div class="session-details-row">
    <div class="session-details-content">
      {{#link-to "authenticated.sessions.update" session.id
                 class="button button--regular button--link session-details-content__update-button"}}
        Modifier
      {{/link-to}}
    </div>
  </div>

</div>

<div class="panel panel--strong-shadow session-details-container">

  <div class="session-details-candidates">
    <div class="session-details-content">
      {{textarea id='import'
                 name='import'
                 rows=8
                 value=data
                 class="textarea"
                 keyUp=(action "preview" data)
      }}
    </div>
    {{#if candidates}}
      <div class="table content-text content-text--small">
        <table>
          <thead>
          <tr>
            <th class="table__column">Nom</th>
            <th class="table__column">Prénom</th>
            <th class="table__column">Date de naissance</th>
            <th class="table__column">Lieu de naissance</th>
          </tr>
          </thead>

          <tbody>
          {{#each candidates as |candidate|}}
            <tr>
              <td>{{candidate.lastName}}</td>
              <td>{{candidate.firstName}}</td>
              <td>{{moment-format candidate.birthdate 'DD/MM/YYYY' allow-empty=true}}</td>
              <td>{{candidate.birthplace}}</td>
            </tr>
          {{/each}}
          </tbody>
        </table>
      </div>
    {{/if}}

  </div>
  <button {{action 'import' data}} class="button button--regular">Importer</button>

</div>
